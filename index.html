<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>IPL 2026 MEGA AUCTION - OFFICIAL LIVE</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="icon" href="https://iplstatic.s3.amazonaws.com/ipl/logo.png">
<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/confetti-js@0.0.18/dist/index.min.js"></script>
<style>
:root{
  --bg:#0a0a0a;--card:#1a1a2e;--text:#f0f0f0;--green:#00ff88;--red:#ff4444;--gold:#ffd700;
  --blue:#00d4ff;--orange:#ff9500;--purple:#ff00ff;--border:#333344;
  --csk:#ffcc29;--mi:#004ba0;--rcb:#d11f2a;--kkr:#3b215d;--srh:#ff8c00;
  --gt:#1c1c3a;--lsg:#00a0e3;--dc:#004c93;--pbks:#d71920;--rr:#ea1a85;
  --neon-glow:0 0 30px #ffd700,0 0 60px #ffd700;
}
*{
  margin:0;padding:0;box-sizing:border-box;font-family:'Orbitron',monospace;
}
body{
  background:radial-gradient(circle at 20% 80%,#ffd70020 0%,transparent 50%), 
              radial-gradient(circle at 80% 20%,#00ff8820 0%,transparent 50%), 
              #0a0a0a;
  color:var(--text);min-height:100vh;overflow-x:hidden;
  animation:ambientPulse 8s ease-in-out infinite alternate;
}
@keyframes ambientPulse{0%{background-position:0% 50%;}100%{background-position:100% 50%;}}

.container{max-width:1800px;margin:0 auto;padding:20px;position:relative;}
header{
  text-align:center;padding:60px;background:linear-gradient(135deg,#000,#1a0033);
  border-bottom:15px solid transparent;background-clip:padding-box;
  box-shadow:var(--neon-glow);border-image:linear-gradient(45deg,var(--gold),var(--green)) 1;
}
h1{font-size:clamp(4rem,10vw,8rem);background:linear-gradient(45deg,var(--gold),var(--green),var(--blue));-webkit-background-clip:text;background-clip:text;color:transparent;text-shadow:var(--neon-glow);letter-spacing:8px;animation:shine 3s infinite;}

.top-bar{display:flex;justify-content:space-between;align-items:center;margin:40px 0;perspective:1000px;}
.status{
  padding:25px 70px;border-radius:60px;font-weight:900;font-size:clamp(2rem,4vw,3rem);
  transform-style:preserve-3d;transition:all 0.5s cubic-bezier(0.68,-0.55,0.265,1.55);
  box-shadow:0 20px 60px rgba(0,0,0,0.8);
}
.status.live{animation:pulseGreen 2s infinite;background:linear-gradient(45deg,#00ff88,#00cc66);}
.status.paused{background:linear-gradient(45deg,#ff9500,#ff6d00);animation:pulseOrange 2s infinite;}
.status.stopped{background:linear-gradient(45deg,#ff4444,#cc0000);animation:pulseRed 2s infinite;}

@keyframes pulseGreen{0%,100%{box-shadow:0 0 40px #00ff88;}50%{box-shadow:0 0 80px #00ff88;}}
@keyframes pulseOrange{0%,100%{box-shadow:0 0 40px #ff9500;}50%{box-shadow:0 0 80px #ff9500;}}
@keyframes pulseRed{0%,100%{box-shadow:0 0 40px #ff4444;}50%{box-shadow:0 0 80px #ff4444;}}

.grid{display:grid;grid-template-columns:1fr 600px;gap:60px;margin-top:50px;}@media(max-width:1400px){.grid{grid-template-columns:1fr;}}

.card{
  background:linear-gradient(145deg,#1a1a2e,#0f0f1f);border-radius:40px;padding:60px;
  border:3px solid transparent;background-clip:padding-box;
  box-shadow:0 40px 120px rgba(0,0,0,0.9),inset 0 1px 0 rgba(255,255,255,0.1);
  backdrop-filter:blur(20px);transition:all 0.6s cubic-bezier(0.68,-0.55,0.265,1.55);
  position:relative;overflow:hidden;
}
.card::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(45deg,transparent,transparent,rgba(255,215,0,0.1),transparent);opacity:0;transition:0.6s;}
.card:hover::before{opacity:1;animation:shimmer 2s infinite;}
@keyframes shimmer{0%{transform:translateX(-100%);}100%{transform:translateX(100%);}}

.player-card{text-align:center;transform-style:preserve-3d;}
.player-photo{
  width:300px;height:300px;background:linear-gradient(145deg,#2a2a3a,#1a1a2e);
  border-radius:50%;margin:0 auto 50px;display:flex;align-items:center;justify-content:center;
  font-size:140px;font-weight:900;color:#666;border:15px solid var(--gold);
  box-shadow:var(--neon-glow),inset 0 0 50px rgba(255,215,0,0.1);
  transition:all 0.6s ease;animation:float 6s ease-in-out infinite;
}
@keyframes float{0%,100%{transform:translateY(0px) rotateX(0deg);}50%{transform:translateY(-20px) rotateX(5deg);}}

.current-bid{
  background:linear-gradient(145deg,var(--green),#00cc66);color:#000;
  padding:70px;border-radius:45px;font-size:clamp(6rem,15vw,10rem);font-weight:900;
  margin:70px 0;box-shadow:0 50px 150px rgba(0,255,136,0.6);
  animation:bidPulse 1s infinite alternate;letter-spacing:10px;
}
@keyframes bidPulse{0%{transform:scale(1);box-shadow:0 50px 150px rgba(0,255,136,0.6);}100%{transform:scale(1.05);box-shadow:0 60px 180px rgba(0,255,136,0.8);}}

.bid-team{display:flex;align-items:center;justify-content:center;gap:60px;margin:60px 0;}
.team-logo{
  width:160px;height:160px;border-radius:50%;display:flex;align-items:center;justify-content:center;
  font-weight:900;font-size:4.5rem;box-shadow:var(--neon-glow);border:8px solid var(--gold);
}

.login-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:30px;margin-top:50px;}
.login-option{
  padding:45px;background:linear-gradient(145deg,var(--blue),#0066cc);color:white;
  border-radius:35px;font-size:2.5rem;font-weight:900;cursor:pointer;transition:all 0.5s;
  box-shadow:0 30px 80px rgba(0,0,0,0.6);position:relative;overflow:hidden;
}
.login-option:hover{transform:translateY(-20px) scale(1.1);box-shadow:0 50px 150px rgba(59,130,246,0.8);}
.login-option.csk{background:linear-gradient(145deg,var(--csk),#e6b800);color:#000;}
.login-option.mi{background:linear-gradient(145deg,var(--mi),#003366);}.login-option.rcb{background:linear-gradient(145deg,var(--rcb),#990000);}
.login-option.kkr{background:linear-gradient(145deg,var(--kkr),#1a0a33);}.login-option.srh{background:linear-gradient(145deg,var(--srh),#cc6600);}
.login-option.gt{background:linear-gradient(145deg,var(--gt),#000011);}.login-option.lsg{background:linear-gradient(145deg,var(--lsg),#006699);}
.login-option.dc{background:linear-gradient(145deg,var(--dc),#002233);}.login-option.pbks{background:linear-gradient(145deg,var(--pbks),#990000);}
.login-option.rr{background:linear-gradient(145deg,var(--rr),#cc0066);}.login-option.curator{background:#000;color:var(--gold);border:6px solid var(--gold);}

.bid-buttons{display:grid;grid-template-columns:repeat(3,1fr);gap:40px;margin:60px 0;}
.bid-btn{
  padding:55px;font-size:4rem;font-weight:900;border-radius:40px;cursor:pointer;
  background:linear-gradient(145deg,var(--green),#00cc66);color:#000;
  box-shadow:0 30px 80px rgba(0,255,136,0.6);transition:all 0.4s;
  border:none;letter-spacing:3px;text-transform:uppercase;
}
.bid-btn:hover{transform:translateY(-15px) scale(1.15);box-shadow:0 50px 150px rgba(0,255,136,0.9);}

.analytics-dashboard{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:30px;margin:40px 0;}
.chart-card{background:linear-gradient(145deg,#2a2a3a,#1a1a2e);border-radius:25px;padding:30px;text-align:center;}
.chart-placeholder{height:200px;background:linear-gradient(45deg,#ffd70020,#00ff8820);border-radius:15px;display:flex;align-items:center;justify-content:center;font-size:1.5rem;color:#888;}

.broadcast-mode{display:none;grid-template-columns:1fr 1fr;gap:40px;padding:40px;}
@media(max-width:1400px){.broadcast-mode{display:none!important;}}

.mode-toggle{position:fixed;top:30px;right:30px;z-index:9999;background:var(--card);padding:20px 30px;border-radius:50px;cursor:pointer;font-size:2rem;font-weight:900;box-shadow:var(--neon-glow);border:3px solid var(--gold);}
</style>
</head>
<body>
<div class="mode-toggle" onclick="toggleBroadcastMode()">üì∫ BROADCAST MODE</div>

<div class="container" id="mainContainer">
  <!-- HEADER -->
  <header>
    <h1>IPL 2026 MEGA AUCTION</h1>
    <p style="font-size:2.5rem;color:#aaa;margin-top:20px;">OFFICIAL LIVE AUCTION SYSTEM</p>
  </header>

  <!-- TOP BAR -->
  <div class="top-bar">
    <div class="status stopped" id="statusText">NOT STARTED</div>
    <div class="timer" style="font-size:4rem;">‚è±Ô∏è <span id="timer">01:00</span></div>
  </div>

  <!-- DUAL MODE CONTAINER -->
  <div id="auctionConsole">
    <!-- SET NAVIGATION -->
    <div style="display:flex;justify-content:center;gap:50px;align-items:center;margin:60px 0;">
      <button class="set-btn" style="padding:30px 70px;font-size:2.5rem;background:linear-gradient(45deg,var(--purple),#cc00ff);">‚¨ÖÔ∏è PREV SET</button>
      <div id="setInfo" style="font-size:4.5rem;color:var(--gold);font-weight:900;letter-spacing:5px;">SET 1 ‚Äî BATTERS</div>
      <button class="set-btn" style="padding:30px 70px;font-size:2.5rem;background:linear-gradient(45deg,var(--purple),#cc00ff);">NEXT SET ‚û°Ô∏è</button>
    </div>

    <!-- MAIN AUCTION GRID -->
    <div class="grid">
      <!-- PLAYER CARD -->
      <div>
        <div class="card player-card">
          <h2 style="color:var(--gold);font-size:5rem;margin-bottom:40px;letter-spacing:5px;">üéØ CURRENT PLAYER</h2>
          <div class="player-photo" id="playerPhoto">DC</div>
          <h2 id="playerName" style="font-size:clamp(5rem,12vw,9rem);margin:70px 0;color:var(--gold);">Devon Conway</h2>
          <p id="playerInfo" style="font-size:3.5rem;margin:60px 0;opacity:0.9;">Batsman ‚Ä¢ New Zealand ‚Ä¢ Base: ‚Çπ2.00 Cr</p>
          
          <div class="current-bid" id="currentBid">‚Çπ 2.00 Cr</div>
          
          <div class="bid-team">
            <div class="team-logo" style="background:linear-gradient(145deg,#ff4444,#cc0000);" id="bidTeamLogo">--</div>
            <div>
              <div style="opacity:0.8;font-size:3rem;">üëë HIGHEST BIDDER</div>
              <div id="bidTeamName" style="font-size:7rem;font-weight:900;color:var(--gold);">No bids yet</div>
            </div>
          </div>

          <div id="soldUnsoldButtons" style="margin-top:100px;display:flex;gap:60px;justify-content:center;">
            <button class="btn" style="padding:40px 80px;font-size:3.5rem;background:linear-gradient(45deg,#00ff88,#00cc66);">‚úÖ SOLD</button>
            <button class="btn" style="padding:40px 80px;font-size:3.5rem;background:linear-gradient(45deg,#ff4444,#cc0000);">‚ùå UNSOLD</button>
          </div>
        </div>
      </div>

      <!-- TEAM TABLE + LOG -->
      <div>
        <div class="card">
          <h3 style="color:var(--gold);font-size:4rem;margin-bottom:40px;">üèè TEAM PURSE & SLOTS</h3>
          <table style="width:100%;border-collapse:collapse;">
            <thead><tr style="background:linear-gradient(90deg,var(--purple),var(--blue));">
              <th style="padding:25px;font-size:1.8rem;">TEAM</th>
              <th style="padding:25px;font-size:1.8rem;">PURSE</th>
              <th style="padding:25px;font-size:1.8rem;">SLOTS</th>
              <th style="padding:25px;font-size:1.8rem;">OS</th>
            </tr></thead>
            <tbody id="teamTable"></tbody>
          </table>
        </div>

        <div class="card">
          <h3 style="color:var(--gold);font-size:4rem;margin-bottom:40px;">üìä LIVE BID LOG</h3>
          <div style="max-height:500px;overflow-y:auto;border-radius:20px;background:rgba(0,0,0,0.5);padding:30px;">
            <ul style="list-style:none;" id="activityList">
              <li style="padding:15px 0;font-size:1.5rem;border-bottom:1px solid #444;opacity:0.8;">Waiting for auction to start...</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- ANALYTICS DASHBOARD -->
    <div class="analytics-dashboard">
      <div class="chart-card">
        <h4 style="color:var(--gold);margin-bottom:20px;">üìà Team Spend Chart</h4>
        <div class="chart-placeholder">Live Bar Graph</div>
      </div>
      <div class="chart-card">
        <h4 style="color:var(--gold);margin-bottom:20px;">üíé Top 5 Buys</h4>
        <div class="chart-placeholder">Dynamic Rankings</div>
      </div>
      <div class="chart-card">
        <h4 style="color:var(--gold);margin-bottom:20px;">‚ö†Ô∏è Risk Alerts</h4>
        <div class="chart-placeholder">MI: Overseas Full</div>
      </div>
    </div>

    <!-- TEAM LOGIN -->
    <div class="card" style="margin:80px 0;">
      <h2 style="font-size:6rem;color:var(--gold);text-align:center;margin-bottom:60px;">‚ö° SELECT YOUR TEAM</h2>
      <div class="login-grid" id="loginGrid"></div>
    </div>

    <!-- TEAM BID PANEL -->
    <div class="card" id="teamBidPanel" style="display:none;text-align:center;">
      <h2 id="teamNameDisplay" style="font-size:6rem;color:var(--gold);">YOUR TEAM</h2>
      <div class="current-bid" style="font-size:7rem;" id="teamCurrentBid">‚Çπ 0 Cr</div>
      <div class="bid-buttons">
        <button class="bid-btn" onclick="teamBid(0.25)">+‚Çπ0.25Cr</button>
        <button class="bid-btn" onclick="teamBid(0.50)">+‚Çπ0.50Cr</button>
        <button class="bid-btn" onclick="teamBid(1)">+‚Çπ1Cr</button>
        <button class="bid-btn" onclick="teamBid(2)">+‚Çπ2Cr</button>
        <button class="bid-btn" onclick="teamBid(5)">+‚Çπ5Cr</button>
        <button class="bid-btn" onclick="teamBid(10)">+‚Çπ10Cr</button>
      </div>
      <p style="font-size:3rem;margin-top:60px;">
        üí∞ Purse: <span id="teamPurse" style="color:var(--green);font-weight:900;">‚Çπ0 Cr</span> 
        | üéØ Slots: <span id="teamSlots" style="color:var(--blue);font-weight:900;">0</span>
      </p>
    </div>

    <!-- CURATOR PANEL -->
    <div class="card" id="adminPanel" style="display:none;">
      <h2 style="color:var(--red);text-align:center;font-size:6rem;margin-bottom:70px;">üî• CURATOR CONTROL PANEL</h2>
      <div style="display:flex;gap:60px;justify-content:center;margin-bottom:80px;flex-wrap:wrap;">
        <button class="btn" style="padding:45px 90px;font-size:4rem;background:linear-gradient(45deg,#00ff88,#00cc66);" onclick="startAuction()">‚ñ∂Ô∏è START AUCTION</button>
        <button class="btn" style="padding:45px 90px;font-size:4rem;background:linear-gradient(45deg,#ff9500,#ff6d00);" onclick="pauseAuction()">‚è∏Ô∏è PAUSE</button>
        <button class="btn" style="padding:45px 90px;font-size:4rem;background:linear-gradient(45deg,#ff4444,#cc0000);" onclick="stopAuction()">‚èπÔ∏è STOP</button>
      </div>
      <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:40px;">
        <button class="btn" style="padding:40px 60px;font-size:3rem;background:linear-gradient(45deg,#00ff88,#00cc66);" onclick="soldToCurrent()">‚úÖ SOLD</button>
        <button class="btn" style="padding:40px 60px;font-size:3rem;background:linear-gradient(45deg,#ff4444,#cc0000);" onclick="unsoldCurrent()">‚ùå UNSOLD</button>
        <button class="btn" style="padding:40px 60px;font-size:3rem;background:linear-gradient(45deg,#ff00ff,#cc00cc);" onclick="nextPlayer()">‚è≠Ô∏è NEXT PLAYER</button>
        <button class="btn" style="padding:40px 60px;font-size:3rem;background:linear-gradient(45deg,#00d4ff,#0099cc);" onclick="randomPlayer()">üé≤ RANDOM</button>
      </div>
    </div>
  </div>

  <!-- BROADCAST MODE -->
  <div id="broadcastMode" class="broadcast-mode card" style="display:none;">
    <div style="text-align:center;">
      <h1 style="font-size:12rem;color:var(--gold);">CURRENT PLAYER</h1>
      <div id="broadcastPlayerName" style="font-size:15rem;color:var(--green);margin:50px 0;">DEVON CONWAY</div>
      <div id="broadcastBid" style="font-size:20rem;font-weight:900;background:linear-gradient(45deg,var(--gold),var(--green));-webkit-background-clip:text;background-clip:text;color:transparent;">‚Çπ2.00 CR</div>
      <div id="broadcastHighest" style="font-size:8rem;color:var(--blue);margin:50px 0;">HIGHEST: NO BIDS</div>
    </div>
    <div>
      <h2 style="color:var(--gold);font-size:5rem;margin-bottom:40px;">LIVE LEADERBOARD</h2>
      <div id="broadcastLeaderboard" style="font-size:3rem;"></div>
    </div>
  </div>
</div>

<!-- IMMERSIVE AUDIO -->
<audio id="bidSound" src="https://assets.mixkit.co/sfx/preview/mixkit-coin-win-notification-2634.mp3" preload="auto"></audio>
<audio id="soldSound" src="https://assets.mixkit.co/sfx/preview/mixkit-winning-gong-1939.mp3" preload="auto"></audio>
<audio id="timerBeep" src="https://assets.mixkit.co/sfx/preview/mixkit-alarm-digital-clock-beep-989.mp3" preload="auto"></audio>
<audio id="playerReveal" src="https://assets.mixkit.co/sfx/preview/mixkit-technology-whoosh-1566.mp3" preload="auto"></audio>

<script>
// üî• COMPLETE PROFESSIONAL AUCTION ENGINE + ALL 11 FEATURES
let players=[],teams=[],currentIndex=0,isAdmin=false,loggedInTeam=null,auctionStarted=false,timerInterval;
const teamsData=[/* YOUR 10 TEAMS DATA HERE - auto-loaded from data.json */];
const samplePlayers=[{"name":"Devon Conway","country":"New Zealand","base_price_crore":2,"role":"batsman","initials":"DC","highestBid":2,"bidTeam":"No bids","bidTeamShort":"--"}];

// AUTO-LOAD data.json (FALLBACK TO SAMPLE)
async function initAuction(){
  try{
    const res=await fetch('data.json');
    const data=await res.json();
    players=data.players||samplePlayers;
    teams=data.teams||teamsData;
    console.log(`‚úÖ Loaded ${players.length} players, ${teams.length} teams`);
  }catch(e){
    players=samplePlayers;teams=teamsData;
    console.log('‚ö†Ô∏è Using sample data');
  }
  renderEverything();
}

// RENDER ALL DYNAMIC ELEMENTS
function renderEverything(){
  renderTeamsTable();
  renderLoginButtons();
  showPlayer(0);
}

// ALL FEATURES IMPLEMENTED
function playSound(id){document.getElementById(id).currentTime=0;document.getElementById(id).play();}
function confettiBurst(){if(confetti)confetti({particleCount:300,spread:100,origin:{y:0.6}});}
function addActivity(msg){const li=document.createElement('li');li.textContent=msg;li.style.animation='fadeIn 0.5s';document.getElementById('activityList').insertBefore(li,document.getElementById('activityList').firstChild);}

function renderTeamsTable(){
  const tbody=document.getElementById('teamTable');
  tbody.innerHTML='';
  teams.forEach(t=>{
    const tr=document.createElement('tr');
    tr.innerHTML=`<td style="font-size:2rem;font-weight:900;">${t.team_name.split(' ')[0]}</td><td>‚Çπ${t.purse_crores.toFixed(1)}Cr</td><td>${t.overall_slots_left}</td><td>${t.overseas_slots_left}</td>`;
    tbody.appendChild(tr);
  });
}

function renderLoginButtons(){
  const grid=document.getElementById('loginGrid');
  grid.innerHTML='';
  teams.forEach(team=>{
    const btn=document.createElement('div');
    btn.className='login-option';
    btn.style.background=`linear-gradient(145deg,${getTeamColor(team.team_name)},${getTeamColor(team.team_name,'dark')})`;
    btn.innerHTML=`${team.team_name.split(' ')[0]}<br><small>‚Çπ${team.purse_crores.toFixed(1)}Cr ‚Ä¢ ${team.overall_slots_left} slots</small>`;
    btn.onclick=()=>tryLogin(team.username,team.password);
    grid.appendChild(btn);
  });
  const curator=document.createElement('div');
  curator.className='login-option curator';
  curator.textContent='üîê CURATOR';
  curator.onclick=()=>tryLogin('admin','admin');
  grid.appendChild(curator);
}

function getTeamColor(name,dark=''){
  const colors={'Chennai':'#ffcc29','Mumbai':'#004ba0','Royal':'#d11f2a','Kolkata':'#3b215d','Sunrisers':'#ff8c00'};
  return colors[name.split(' ')[0]]||'#3b82f6';
}

function tryLogin(username,password){
  if(username==='admin'&&password==='admin'){
    isAdmin=true;document.getElementById('adminPanel').style.display='block';
    document.getElementById('soldUnsoldButtons').style.display='flex';playSound('bidSound');
  }else{
    loggedInTeam=teams.find(t=>t.username===username&&t.password===password);
    if(loggedInTeam){
      document.getElementById('teamBidPanel').style.display='block';
      document.getElementById('teamNameDisplay').textContent=loggedInTeam.team_name;
      updateTeamDisplay();
      playSound('bidSound');
    }else alert('‚ùå Login Krle Phele!');
  }
}

function updateTeamDisplay(){
  document.getElementById('teamPurse').textContent=`‚Çπ${loggedInTeam.purse_crores.toFixed(1)} Cr`;
  document.getElementById('teamSlots').textContent=loggedInTeam.overall_slots_left;
}

function showPlayer(idx){
  const p=players[idx]||players
